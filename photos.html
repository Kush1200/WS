<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Lane - Gallery</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Montserrat:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'romantic-pink': '#ff85a2' },
                    fontFamily: {
                        serif: ['Playfair Display', 'serif'],
                        handwritten: ['Dancing Script', 'cursive'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background: linear-gradient(-45deg, #fce7f3, #f3e8ff, #fbcfe8, #e9d5ff);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
        }

        /* The Parallax Container */
        .memory-item {
            display: flex;
            width: 100%;
            margin-bottom: 20vh; /* Large spacing for scrolling effect */
            opacity: 0;
        }

        .photo-container {
            width: 300px;
            md:width: 450px;
            transition: transform 0.5s ease;
        }

        .photo-container:hover {
            transform: scale(1.05) rotate(1deg);
        }
    </style>
</head>
<body class="min-h-screen pt-32 pb-60">

    <nav class="fixed top-8 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-5xl">
        <div class="glass-card rounded-full px-8 py-4 flex justify-between items-center text-gray-700 font-semibold text-xs md:text-sm">
            <a href="home.html" class="text-gray-400 hover:text-romantic-pink transition-colors">Home</a>
            <a href="photos.html" class="text-romantic-pink font-bold border-b-2 border-romantic-pink">Photos</a>
            <a href="letter.html" class="text-gray-400 hover:text-romantic-pink transition-colors">Letter</a>
            <a href="timeline.html" class="text-gray-400 hover:text-romantic-pink transition-colors">Timeline</a>
            <a href="playlist.html" class="text-gray-400 hover:text-romantic-pink transition-colors">Playlist</a>
            <a href="together.html" class="text-gray-400 hover:text-romantic-pink transition-colors text-gray-400">TIme Since</a>
        </div>
    </nav>

    <div class="container mx-auto px-6">
        <header class="text-center mb-40">
            <h1 class="font-handwritten text-romantic-pink text-6xl md:text-8xl mb-4">Memory Lane</h1>
            <p class="font-serif italic text-gray-600 text-xl">"Scroll through our favorite moments..."</p>
        </header>

        <div id="memory-lane" class="max-w-6xl mx-auto flex flex-col items-center"></div>

        <div class="text-center mt-40">
            <p class="font-handwritten text-romantic-pink text-4xl">To be continued...</p>
        </div>
    </div>

    <button id="confetti-btn" class="fixed bottom-10 left-10 z-[100] w-16 h-16 md:w-20 md:h-20 glass-card rounded-full p-0 flex items-center justify-center overflow-hidden hover:scale-110 hover:-rotate-12 active:scale-95 transition-all duration-300 shadow-2xl opacity-0">
        <img src="confetti_button.PNG" alt="Celebrate" class="w-full h-full object-cover">
    </button>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // 1. ADD YOUR PHOTOS HERE
        // The first 5-6 photos are usually enough for a great parallax scroll!
        const photoList = [
            'photo1.jpg',
            'photo2.jpg',
            'photo3.jpg',
            'photo4.jpg',
            'photo5.jpg'
        ];

        const container = document.getElementById('memory-lane');

        // 2. Build the Lane
        photoList.forEach((filename, index) => {
            const item = document.createElement('div');
            // Alternates alignment: Left, Center, Right
            const alignment = index % 3 === 0 ? 'justify-start' : (index % 3 === 1 ? 'justify-end' : 'justify-center');
            
            item.className = `memory-item ${alignment}`;
            item.innerHTML = `
                <div class="photo-container glass-card p-4 rounded-[2rem] parallax-photo" data-speed="${(index + 1) * 0.5}">
                    <img src="assets/photos/${filename}" class="w-full rounded-[1.5rem] shadow-inner" loading="lazy">
                </div>
            `;
            container.appendChild(item);
        });

        window.onload = () => {
            // Initial Header Animation
            gsap.from("header", { opacity: 0, y: 50, duration: 1.5, ease: "power4.out" });

            // 3. Parallax Scroll Effect
            gsap.utils.toArray(".memory-item").forEach((item, i) => {
                const photo = item.querySelector(".parallax-photo");
                const speed = photo.getAttribute("data-speed");

                // Fade and Slide In
                gsap.to(item, {
                    scrollTrigger: {
                        trigger: item,
                        start: "top 90%",
                        toggleActions: "play none none none"
                    },
                    opacity: 1,
                    duration: 1.5,
                    ease: "power2.out"
                });

                // Floating Parallax movement
                gsap.to(photo, {
                    yPercent: -50 * speed,
                    ease: "none",
                    scrollTrigger: {
                        trigger: item,
                        start: "top bottom",
                        end: "bottom top",
                        scrub: true
                    }
                });
            });

            // Confetti Button Logic
            gsap.to("#confetti-btn", { opacity: 1, duration: 1, delay: 1, ease: "back.out(1.7)" });
            document.getElementById('confetti-btn').addEventListener('click', () => {
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff85a2', '#ffffff'] });
            });
        };
    </script>
</body>
</html>